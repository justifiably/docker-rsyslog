# This configuration has been generated by using the 
# rsyslog Configuration Builder which can be found at: 
# http://www.rsyslog.com/rsyslog-configuration-builder/
#
# Default Settings

# Load Modules
module(load="imudp")
module(load="imtcp")
module(load="immark")  # provides --MARK-- message capability

# rsyslog Input Modules
input(type="imudp" port="514")
input(type="imtcp" port="514")

# Include configuration files from directory
$IncludeConfig /etc/rsyslog.d/*

# Default rulesets
if ($msg contains 'rsyslogd') then {
    action(type="omfile" file="/var/log/rsyslogd.log")
    stop
}

# Use traditional timestamp format.
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# Filter duplicated messages 
$RepeatedMsgReduction on

# default permissions for all log files.
$FileOwner rsyslog
$FileGroup users
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022
$PrivDropToUser rsyslog
$PrivDropToGroup rsyslog

# Check config syntax on startup and abort if unclean (default off)
$AbortOnUncleanConfig on
